document.addEventListener('DOMContentLoaded', () => {
  chrome.storage.local.get('requests', (result) => {
      const requestLog = document.getElementById('request-log');
      requestLog.innerHTML = '';
      if (result.requests && result.requests.length > 0) {
          result.requests.forEach((request, index) => {
              const requestItem = document.createElement('div');
              requestItem.className = 'request-item';
              requestItem.innerHTML = `
                  <strong>Request #${index + 1}</strong><br>
                  <strong>URL:</strong> ${request.url}<br>
                  <strong>Method:</strong> ${request.method}<br>
                  <strong>Status:</strong> ${request.statusCode}<br>
                  <strong>Type:</strong> ${request.type}<br>
                  <strong>Time:</strong> ${request.timeStamp}
              `;
              requestLog.appendChild(requestItem);
          });
      } else {
          requestLog.innerHTML = 'No requests logged yet.';
      }
  });
});
